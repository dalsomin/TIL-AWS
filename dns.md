### 에지로케이션

에지로케이션은 리전에 속한 리전에지캐시를 통해 데이터속도를 개선한다. 

1. 사용자가 브라우저를 통해 이미지를 요청한다. 
2. DNS 서버에 IP주소를 요청한다. 
3. 에지 로케이션 주소를 라우팅합니다. 이때 에지 로케이션은 일반적으로 지연시간이 가장적고 가까운 에지 로케이션의 주소를 알려줍니다. 
4. 전달받은 주소로 데이터를 요청합니다. 
5. 만일 사용자가 요청하는 파일이 에지 로케이션에 저장되어있다면 단계를 생략하고 바로 9단계로 넘어가, 사용자에게 데이터를 전달합니다. 



## DNS 기본 사항

스마트폰이나 노트북부터 대규모 소매 웹 사이트의 콘텐츠를 서비스하는 서버에 이르기까지 인터넷상의 모든 컴퓨터는 숫자를 사용하여 서로를 찾고 통신합니다. 이러한 숫자를 **IP 주소**라고 합니다. 웹 브라우저를 열고 웹 사이트로 이동할 때는 긴 숫자를 기억해 입력할 필요가 없습니다. 그 대신 example.com과 같은 **도메인 이름**을 입력해도 원하는 웹 사이트로 갈 수 있습니다.

Amazon Route 53과 같은 DNS 서비스는 전 세계에 배포된 서비스로서, www.example.com과 같이 사람이 읽을 수 있는 이름을 192.0.2.1과 같은 숫자 IP 주소로 변환하여 컴퓨터가 서로 통신할 수 있도록 합니다. 인터넷의 DNS 시스템은 이름과 숫자 간의 매핑을 관리하여 마치 전화번호부와 같은 기능을 합니다. DNS 서버는 이름에 대한 요청을 IP 주소로 변환하여 최종 사용자가 도메인 이름을 웹 브라우저에 입력할 때 해당 사용자를 어떤 서버에 연결할 것인지를 제어합니다. 이 요청을 **쿼리**라고 부릅니다.



### DNS 서비스 유형

**신뢰할 수 있는 DNS**: **신뢰할 수 있는 DNS** 서비스는 개발자가 퍼블릭 DNS 이름을 관리하는 데 사용하는 업데이트 메커니즘을 제공합니다. 이를 통해 DNS 쿼리에 응답하여 도메인 이름을 IP 주소로 변환합니다. 그러면 컴퓨터가 서로 통신할 수 있게 됩니다. 신뢰할 수 있는 DNS는 도메인에 대해 최종 권한이 있으며 **재귀적 DNS** 서버에 IP 주소 정보가 담긴 답을 제공할 책임이 있습니다. **Amazon Route 53은 신뢰할 수 있는 DNS 시스템입니다.**

**재귀적 DNS**: 대개 클라이언트는 신뢰할 수 있는 DNS 서비스에 직접 쿼리를 수행하지 않습니다. 대신에 **해석기** 또는 **재귀적 DNS** 서비스라고 알려진 다른 유형의 DNS 서비스에 연결하는 경우가 일반적입니다. 재귀적 DNS 서비스는 호텔 컨시어지와 같은 역할을 합니다. DNS 레코드를 소유하고 있지 않지만 사용자를 대신해서 DNS 정보를 가져올 수 있는 중간자의 역할을 합니다. 재귀적 DNS가 일정 기간 동안 **캐시된** 또는 저장된 DNS 레퍼런스를 가지고 있는 경우, 소스 또는 IP 정보를 제공하여 DNS 쿼리에 답을 합니다. 그렇지 않다면, 해당 정보를 찾기 위해 쿼리를 하나 이상의 신뢰할 수 있는 DNS 서버에 전달합니다.
